{% extends "layout.html" %}

{% block title %}Detalle Cardiológico{% endblock %}

{% from 'confirmacion.html' import confirmacion %}

{% block content %}

<div>
    <div class="texto-centro mt-4">
        <h1 class="titulo-principal">Detalle Planilla Cardiológica</h1>
    </div>

    <div class="text-center mt-3">
        <a href="{{ url_for('home') }}" class="btn btn-secondary">Volver al Menú Principal</a>
        <a href="{{ url_for('seleccionar_planilla') }}" class="btn btn-secondary">Volver a Seleccionar Planilla</a>
    </div>

    <div class="container mt-3">
        <div class="card">
            <div class="card-header" id="nombre-paciente">
                <strong>Nombre del Paciente:</strong> {{ planilla['nombre_paciente'] }}
            </div>
            <div class="card-body" id="content">
                <p><strong>Motivo de ingreso/diagnóstico:</strong> {{ planilla['motivo_ingreso_diag'] }}</p>
                <div class="row border-bottom pb-2 mb-2">
                    <div class="col-md-6">
                        <p><strong>Dolor precordial:</strong> {{ 'Sí' if planilla['dolor_precordial'] else 'No' }}</p>
                        <p><strong>SCASEST:</strong> {{ 'Sí' if planilla['scasest'] else 'No' }}</p>
                        <p><strong>SCACEST:</strong> {{ 'Sí' if planilla['scacest'] else 'No' }}</p>
                        <p><strong>Insuficiencia Cardiaca Descompensada:</strong> {{ 'Sí' if planilla['insuficiencia_cardiaca_descompensada'] else 'No' }}</p>
                        <p><strong>Pericarditis:</strong> {{ 'Sí' if planilla['pericarditis'] else 'No' }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Emergencia Hipertensiva:</strong> {{ 'Sí' if planilla['emergencia_hipertensiva'] else 'No' }}</p>
                        <p><strong>Sincope:</strong> {{ 'Sí' if planilla['sincope'] else 'No' }}</p>
                        <p><strong>Shock:</strong> {{ 'Sí' if planilla['shock'] else 'No' }}</p>
                        <p><strong>TEP:</strong> {{ 'Sí' if planilla['tep'] else 'No' }}</p>
                        <p><strong>Arritmias:</strong> {{ 'Sí' if planilla['arritmia'] else 'No' }}</p>
                    </div>
                </div>
                <p><strong>Antecedentes:</strong> {{ planilla['antecedentes'] }}</p>
                <p><strong>Enfermedad Actual:</strong> {{ planilla['enfermedad_actual'] }}</p>
                <div class="row border-bottom pb-2 mb-2">
                    <div class="col-md-6">
                        <p><strong>Disnea:</strong> {{ 'Sí' if planilla['disnea'] else 'No' }}</p>
                        <p><strong>Dolor precordial típico:</strong> {{ 'Sí' if planilla['dolor_precordial_tipico'] else 'No' }}</p>
                        <p><strong>HTA:</strong> {{ 'Sí' if planilla['hta'] else 'No' }}</p>
                        <p><strong>Mareos:</strong> {{ 'Sí' if planilla['mareos'] else 'No' }}</p>
                        <p><strong>Palpitaciones:</strong> {{ 'Sí' if planilla['palpitaciones'] else 'No' }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Taquicardia:</strong> {{ 'Sí' if planilla['taquicardia'] else 'No' }}</p>
                        <p><strong>Bradicardia:</strong> {{ 'Sí' if planilla['bradicardia'] else 'No' }}</p>
                        <p><strong>Hipotensión/Shock:</strong> {{ 'Sí' if planilla['hipotension_shock'] else 'No' }}</p>
                        <p><strong>Cianosis:</strong> {{ 'Sí' if planilla['cianosis'] else 'No' }}</p>
                    </div>
                </div>
                <div class="row border-bottom pb-2 mb-2">
                    <div class="col-md-6">
                        <p><strong>Respiratorio:</strong> {{ 'Sí' if planilla['respiratorio'] else 'No' }}</p>
                        <p><strong>Mecánica ventilatoria:</strong> {{ 'Sí' if planilla['mecanica_ventilatoria'] else 'No' }}</p>
                        <p><strong>Buena entrada de aire bilateral:</strong> {{ 'Sí' if planilla['buena_entrada_aire_bilateral'] else 'No' }}</p>
                        <p><strong>Hipoventilación derecha:</strong> {{ 'Sí' if planilla['hipoventilacion_der'] else 'No' }}</p>
                        <p><strong>Hipoventilación izquierda:</strong> {{ 'Sí' if planilla['hipoventilacion_izq'] else 'No' }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Roncus:</strong> {{ 'Sí' if planilla['roncus'] else 'No' }}</p>
                        <p><strong>Sibilancias:</strong> {{ 'Sí' if planilla['sibilancias'] else 'No' }}</p>
                        <p><strong>Rales:</strong> {{ 'Sí' if planilla['rales'] else 'No' }}</p>
                        <p><strong>Arm:</strong> {{ 'Sí' if planilla['arm'] else 'No' }}</p>
                    </div>
                </div>
                <div class="row border-bottom pb-2 mb-2">
                    <div class="col-md-6">
                        <p><strong>TA:</strong> {{ 'Sí' if planilla['ta'] else 'No' }}</p>
                        <p><strong>TAM:</strong> {{ 'Sí' if planilla['tam'] else 'No' }}</p>
                        <p><strong>PVC:</strong> {{ 'Sí' if planilla['pvc'] else 'No' }}</p>
                        <p><strong>FC:</strong> {{ 'Sí' if planilla['fc'] else 'No' }}</p>
                        <p><strong>Relleno capilar:</strong> {{ 'Sí' if planilla['relleno_capilar'] else 'No' }}</p>                        
                        <p><strong>Soplos:</strong> {{ 'Sí' if planilla['soplos'] else 'No' }}</p>
                        <p><strong>Ingurgitación yugular:</strong> {{ 'Sí' if planilla['ingurgitacion_yugular'] else 'No' }}</p>
                        <p><strong>Edemas:</strong> {{ 'Sí' if planilla['edemas'] else 'No' }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Pulsos regulares:</strong> {{ 'Sí' if planilla['pulsos_regulares'] else 'No' }}</p>
                        <p><strong>Pulsos irregulares:</strong> {{ 'Sí' if planilla['pulsos_irregulares'] else 'No' }}</p>
                        <p><strong>Fallo bomba:</strong> {{ 'Sí' if planilla['fallo_bomba'] else 'No' }}</p>
                        <p><strong>Killip-Kimball:</strong> {{ 'Sí' if planilla['killip_kimball'] else 'No' }}</p>
                        <p><strong>Derrame pericárdico:</strong> {{ 'Sí' if planilla['derrame_pericardico'] else 'No' }}</p>
                        <p><strong>Perfusión periférica aceptable:</strong> {{ 'Sí' if planilla['aceptable_perfusion_periferica'] else 'No' }}</p>
                        <p><strong>Shock 2:</strong> {{ 'Sí' if planilla['shock_2'] else 'No' }}</p>
                        <p><strong>Inotrópicos:</strong> {{ 'Sí' if planilla['inotropicos'] else 'No' }}</p>
                    </div>
                </div>
                <p><strong>Abdomen:</strong> {{ planilla['abdomen'] }}</p>
                <div class="row border-bottom pb-2 mb-2">
                    <div class="col-md-6">
                        <p><strong>Blando, depresible, indoloro:</strong> {{ 'Sí' if planilla['blando_depresible_indoloro'] else 'No' }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>RHA:</strong> {{ 'Sí' if planilla['rha'] else 'No' }}</p>
                    </div>
                </div>
                <div class="row border-bottom pb-2 mb-2">
                    <div class="col-md-6">
                        <p><strong>Diuresis:</strong> {{ 'Sí' if planilla['diuresis'] else 'No' }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Sonda vesical:</strong> {{ 'Sí' if planilla['sonda_vesical'] else 'No' }}</p>
                    </div>
                </div>
                <div class="row border-bottom pb-2 mb-2">
                    <div class="col-md-6">
                        <p><strong>Bajo sedoanalgesia:</strong> {{ 'Sí' if planilla['bajo_sedoanalgesia'] else 'No' }}</p>
                        <p><strong>Glasgow:</strong> {{ 'Sí' if planilla['glasgow'] else 'No' }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Pupilas:</strong> {{ 'Sí' if planilla['pupilas'] else 'No' }}</p>
                        <p><strong>Foco motor:</strong> {{ 'Sí' if planilla['foco_motor'] else 'No' }}</p>
                    </div>
                </div>
                <p><strong>Laboratorio:</strong> {{ planilla['laboratorio'] }}</p>
                <p><strong>ECG:</strong> {{ planilla['ecg'] }}</p>
                <p><strong>Ecocardiograma:</strong> {{ planilla['ecocardiograma'] }}</p>
            </div>
        </div>
    </div>

    <div class="text-center mt-3 mb-3">
        <button class="btn btn-success" id="copyButton">Copiar al Portapapeles</button>
        <button class="btn btn-primary" id="generatePdfButton">Descargar PDF</button>
        <a class="btn btn-warning text-white" href="{{ url_for('editar_cardiologico', archivo=archivo) }}">Editar Planilla</a>
        <button class="btn btn-danger" data-toggle="modal" data-target="#bajaModal">Eliminar Planilla</button>
    </div>

    {{ confirmacion(url_for('eliminar_archivo', archivo=archivo, tipo_planilla='cardiologico')) }}

    <div id="mensaje" class="alert alert-success d-none" role="alert">Texto copiado en portapapeles</div>

</div>

<div id="copy-table-wrapper" class="d-none">
    <table>
        <tr>
            <td colspan="4"><strong>Paciente:</strong> {{ planilla['nombre_paciente'] }}</td>
        </tr>
        <tr>
            <td colspan="4"><strong>Motivo de ingreso/diagnóstico:</strong> {{ planilla['motivo_ingreso_diag'] }}</td>
        </tr>

        <tr>
            <th>Dolor precordial</th><td>{{ 'Sí' if planilla['dolor_precordial'] else 'No' }}</td>
            <th>Emergencia hipertensiva</th><td>{{ 'Sí' if planilla['emergencia_hipertensiva'] else 'No' }}</td>
        </tr>
        <tr>
            <th>SCASEST</th><td>{{ 'Sí' if planilla['scasest'] else 'No' }}</td>
            <th>íncope</th><td>{{ 'Sí' if planilla['sincope'] else 'No' }}</td>
        </tr>

        <tr>
            <th>SCACEST</th><td>{{ 'Sí' if planilla['scacest'] else 'No' }}</td>
            <th>Shock</th><td>{{ 'Sí' if planilla['shock'] else 'No' }}</td>
        </tr>
        <tr>
            <th>Insuficiencia Cardiaca Descompensada</th><td>{{ 'Sí' if planilla['insuficiencia_cardiaca_descompensada'] else 'No' }}</td>
            <th>TEP</th><td>{{ 'Sí' if planilla['tep'] else 'No' }}</td>
        </tr>
        <tr>
            <th>Pericarditis</th><td>{{ 'Sí' if planilla['pericarditis'] else 'No' }}</td>
            <th>Arritmias</th><td>{{ 'Sí' if planilla['arritmia'] else 'No' }}</td>
        </tr>
        <tr>
            <td colspan="4"><strong>Antecedentes:</strong> {{ planilla['antecedentes'] }}</td>
        </tr>
        <tr>
            <td colspan="4"><strong>Enfermedad actual:</strong> {{ planilla['enfermedad_actual'] }}</td>
        </tr>

        <tr>
            <th>Disnea</th><td>{{ 'Sí' if planilla['disnea'] else 'No' }}</td>
            <th>Taquicardia</th><td>{{ 'Sí' if planilla['taquicardia'] else 'No' }}</td>
        </tr>
        <tr>
            <th>Dolor precordial tipico</th><td>{{ 'Sí' if planilla['dolor_precordial_tipico'] else 'No' }}</td>
            <th>Bradicardia</th><td>{{ 'Sí' if planilla['bradicardia'] else 'No' }}</td>
        </tr>
        <tr>
            <th>HTA</th><td>{{ 'Sí' if planilla['hta'] else 'No' }}</td>
            <th>Hipotensión/Shock</th><td>{{ 'Sí' if planilla['hipotension_shock'] else 'No' }}</td>
        </tr>
        <tr>
            <th>Mareos</th><td>{{ 'Sí' if planilla['mareos'] else 'No' }}</td>
            <th>Cianosis</th><td>{{ 'Sí' if planilla['cianosis'] else 'No' }}</td>
        </tr>
        <tr>
            <th>Palpitaciones</th><td>{{ 'Sí' if planilla['palpitaciones'] else 'No' }}</td>
        </tr>
            
        <tr>    
            <th>Respiratorio</th><td>{{ 'Sí' if planilla['respiratorio'] else 'No' }}</td>
            <th>Roncus</th><td>{{ 'Sí' if planilla['roncus'] else 'No' }}</td>
        </tr>

        <tr>
            <th>Mecánica ventilatoria</th><td>{{ 'Sí' if planilla['mecanica_ventilatoria'] else 'No' }}</td>
            <th>Sibilancias</th><td>{{ 'Sí' if planilla['sibilancias'] else 'No' }}</td>
        </tr>

        <tr>
            <th>Buena entrada de aire bilateral</th><td>{{ 'Sí' if planilla['buena_entrada_aire_bilateral'] else 'No' }}</td>
            <th>Rales</th><td>{{ 'Sí' if planilla['rales'] else 'No' }}</td>
        </tr>

        <tr>
            <th>Hipoventilación derecha</th><td>{{ 'Sí' if planilla['hipoventilacion_der'] else 'No' }}</td>
            <th>Arm</th><td>{{ 'Sí' if planilla['arm'] else 'No' }}</td>
        </tr>

        <tr>
            <th>Hipoventilación izquierda</th><td>{{ 'Sí' if planilla['hipoventilacion_izq'] else 'No' }}</td>
        </tr>
        
        <tr>
            <th>TA</th><td>{{ 'Sí' if planilla['ta'] else 'No' }}</td>
            <th>Pulsos regulares</th><td>{{ 'Sí' if planilla['pulsos_regulares'] else 'No' }}</td>
        </tr>

        <tr>
            <th>TAM</th><td>{{ 'Sí' if planilla['tam'] else 'No' }}</td>
            <th>Pulsos irregulares</th><td>{{ 'Sí' if planilla['pulsos_irregulares'] else 'No' }}</td>
        </tr>

        <tr>
            <th>PVC</th><td>{{ 'Sí' if planilla['pvc'] else 'No' }}</td>
            <th>Fallo bomba</th><td>{{ 'Sí' if planilla['fallo_bomba'] else 'No' }}</td>
        </tr>

        <tr>
            <th>FC</th><td>{{ 'Sí' if planilla['fc'] else 'No' }}</td>
            <th>Killip-Kimball</th><td>{{ 'Sí' if planilla['killip_kimball'] else 'No' }}</td>
        </tr>

        <tr>
            <th>Relleno capilar</th><td>{{ 'Sí' if planilla['relleno_capilar'] else 'No' }}</td>
            <th>Derrame pericárdico</th><td>{{ 'Sí' if planilla['derrame_pericardico'] else 'No' }}</td>
        </tr>

        <tr>
            <th>Soplos</th><td>{{ 'Sí' if planilla['soplos'] else 'No' }}</td>
            <th>Perfusión periférica aceptable</th><td>{{ 'Sí' if planilla['aceptable_perfusion_periferica'] else 'No' }}</td>
        </tr>

        <tr>
            <th>Ingurgitación yugular</th><td>{{ 'Sí' if planilla['ingurgitacion_yugular'] else 'No' }}</td>
            <th>Shock 2</th><td>{{ 'Sí' if planilla['shock_2'] else 'No' }}</td>
        </tr>

        <tr>
            <th>Edemas</th><td>{{ 'Sí' if planilla['edemas'] else 'No' }}</td>
            <th>Inotrópicos</th><td>{{ 'Sí' if planilla['inotropicos'] else 'No' }}</td>
        </tr>

        <tr>
            <td colspan="4"><strong>Abdomen:</strong> {{ planilla['abdomen'] }}</td>
        </tr>

        <tr>
            <th>Blando, depresible, indoloro</th><td>{{ 'Sí' if planilla['blando_depresible_indoloro'] else 'No' }}</td>
            <th>RHA</th><td>{{ 'Sí' if planilla['rha'] else 'No' }}</td>
        </tr>
        
        <tr>
            <th>Diuresis</th><td>{{ 'Sí' if planilla['diuresis'] else 'No' }}</td>
            <th>Sonda vesical</th><td>{{ 'Sí' if planilla['sonda_vesical'] else 'No' }}</td>
        </tr>

        <tr>
            <th>Bajo sedoanalgesia</th><td>{{ 'Sí' if planilla['bajo_sedoanalgesia'] else 'No' }}</td>
            <th>Pupilas</th><td>{{ 'Sí' if planilla['pupilas'] else 'No' }}</td>
        </tr>

        <tr>
            <th>Glasgow</th><td>{{ 'Sí' if planilla['glasgow'] else 'No' }}</td>
            <th>Foco motor</th><td>{{ 'Sí' if planilla['foco_motor'] else 'No' }}</td>
        </tr>
        <tr>
            <td colspan="4"><strong>Laboratorio:</strong> {{ planilla['laboratorio'] }}</td>
        </tr>
        <tr>
            <td colspan="4"><strong>ECG:</strong> {{ planilla['ecg'] }}</td>
        </tr>
        <tr>
            <td colspan="4"><strong>Ecocardiograma:</strong> {{ planilla['ecocardiograma'] }}</td>
        </tr>
    </table>
</div>



<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
<script src="/static/js/downloadPDF.js"></script>
<script src="/static/js/copyText.js"></script>

{% endblock %}

